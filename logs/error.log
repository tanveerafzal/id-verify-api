{"level":"error","message":"Registration error: Username already exists","stack":"Error: Username already exists\n    at AuthService.register (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\auth.service.ts:30:15)\n    at AuthController.register (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\auth.controller.ts:53:20)","timestamp":"2025-12-01 19:30:33"}
{"level":"error","message":"Unhandled error: File too large","method":"POST","path":"/api/v1/verifications/4fee7577-e697-4c0e-9479-001c3840e1c3/documents","stack":"MulterError: File too large\n    at abortWithCode (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\multer\\lib\\make-middleware.js:73:22)\n    at FileStream.<anonymous> (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\multer\\lib\\make-middleware.js:136:11)\n    at FileStream.emit (node:events:518:28)\n    at SBMH.ssCb [as _cb] (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\busboy\\lib\\types\\multipart.js:479:32)\n    at feed (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:564:12)\n    at _write (node:internal/streams/writable:493:10)\n    at Writable.write (node:internal/streams/writable:502:10)","timestamp":"2025-12-01 19:46:54"}
{"level":"error","message":"Unhandled error: File too large","method":"POST","path":"/api/v1/verifications/bcfc1a52-6866-4209-8d29-e704b2817701/documents","stack":"MulterError: File too large\n    at abortWithCode (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\multer\\lib\\make-middleware.js:73:22)\n    at FileStream.<anonymous> (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\multer\\lib\\make-middleware.js:136:11)\n    at FileStream.emit (node:events:518:28)\n    at SBMH.ssCb [as _cb] (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\busboy\\lib\\types\\multipart.js:479:32)\n    at feed (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\streamsearch\\lib\\sbmh.js:248:10)\n    at SBMH.push (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\streamsearch\\lib\\sbmh.js:104:16)\n    at Multipart._write (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\busboy\\lib\\types\\multipart.js:567:19)\n    at writeOrBuffer (node:internal/streams/writable:564:12)\n    at _write (node:internal/streams/writable:493:10)\n    at Writable.write (node:internal/streams/writable:502:10)","timestamp":"2025-12-01 19:51:01"}
{"clientVersion":"5.7.1","level":"error","message":"[PartnerService] Error in requestVerification: \nInvalid `prisma.user.create()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:387:34\n\n  384 if (!user) {\n  385   logger.info(`[PartnerService] Creating new user: ${data.userEmail}`);\n  386 \n→ 387   user = await prisma.user.create({\n          data: {\n            username: \"ussols@gmail.com\",\n            email: \"ussols@gmail.com\",\n            fullName: \"Malik KHan\",\n            phone: \"6452223333\",\n            role: \"USER\",\n            isActive: true,\n        +   password: String\n          }\n        })\n\nArgument `password` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.create()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:387:34\n\n  384 if (!user) {\n  385   logger.info(`[PartnerService] Creating new user: ${data.userEmail}`);\n  386 \n→ 387   user = await prisma.user.create({\n          data: {\n            username: \"ussols@gmail.com\",\n            email: \"ussols@gmail.com\",\n            fullName: \"Malik KHan\",\n            phone: \"6452223333\",\n            role: \"USER\",\n            isActive: true,\n        +   password: String\n          }\n        })\n\nArgument `password` is missing.\n    at ti (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at PartnerService.requestVerification (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:387:16)\n    at PartnerController.requestVerification (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\partner.controller.ts:267:28)","timestamp":"2025-12-02 12:47:08"}
{"clientVersion":"5.7.1","level":"error","message":"Request verification error: \nInvalid `prisma.user.create()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:387:34\n\n  384 if (!user) {\n  385   logger.info(`[PartnerService] Creating new user: ${data.userEmail}`);\n  386 \n→ 387   user = await prisma.user.create({\n          data: {\n            username: \"ussols@gmail.com\",\n            email: \"ussols@gmail.com\",\n            fullName: \"Malik KHan\",\n            phone: \"6452223333\",\n            role: \"USER\",\n            isActive: true,\n        +   password: String\n          }\n        })\n\nArgument `password` is missing.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.create()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:387:34\n\n  384 if (!user) {\n  385   logger.info(`[PartnerService] Creating new user: ${data.userEmail}`);\n  386 \n→ 387   user = await prisma.user.create({\n          data: {\n            username: \"ussols@gmail.com\",\n            email: \"ussols@gmail.com\",\n            fullName: \"Malik KHan\",\n            phone: \"6452223333\",\n            role: \"USER\",\n            isActive: true,\n        +   password: String\n          }\n        })\n\nArgument `password` is missing.\n    at ti (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at PartnerService.requestVerification (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:387:16)\n    at PartnerController.requestVerification (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\partner.controller.ts:267:28)","timestamp":"2025-12-02 12:47:08"}
{"clientVersion":"5.7.1","code":"P2003","level":"error","message":"[PartnerService] Error in requestVerification: \nInvalid `prisma.verification.create()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:405:54\n\n  402 }\n  403 \n  404 // Create verification request\n→ 405 const verification = await prisma.verification.create(\nForeign key constraint failed on the field: `Verification_partnerId_fkey (index)`","meta":{"field_name":"Verification_partnerId_fkey (index)","modelName":"Verification"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.verification.create()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:405:54\n\n  402 }\n  403 \n  404 // Create verification request\n→ 405 const verification = await prisma.verification.create(\nForeign key constraint failed on the field: `Verification_partnerId_fkey (index)`\n    at si.handleRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6817)\n    at si.handleAndLogRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at PartnerService.requestVerification (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:405:28)\n    at PartnerController.requestVerification (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\partner.controller.ts:267:28)","timestamp":"2025-12-02 12:50:01"}
{"clientVersion":"5.7.1","code":"P2003","level":"error","message":"Request verification error: \nInvalid `prisma.verification.create()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:405:54\n\n  402 }\n  403 \n  404 // Create verification request\n→ 405 const verification = await prisma.verification.create(\nForeign key constraint failed on the field: `Verification_partnerId_fkey (index)`","meta":{"field_name":"Verification_partnerId_fkey (index)","modelName":"Verification"},"name":"PrismaClientKnownRequestError","stack":"PrismaClientKnownRequestError: \nInvalid `prisma.verification.create()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:405:54\n\n  402 }\n  403 \n  404 // Create verification request\n→ 405 const verification = await prisma.verification.create(\nForeign key constraint failed on the field: `Verification_partnerId_fkey (index)`\n    at si.handleRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6817)\n    at si.handleAndLogRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at PartnerService.requestVerification (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:405:28)\n    at PartnerController.requestVerification (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\partner.controller.ts:267:28)","timestamp":"2025-12-02 12:50:01"}
{"level":"error","message":"Partner registration error: Partner with this email already exists","stack":"Error: Partner with this email already exists\n    at PartnerService.registerPartner (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:27:13)\n    at PartnerController.register (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\partner.controller.ts:63:22)","timestamp":"2025-12-02 20:21:09"}
{"level":"error","message":"[PartnerService] Error resending email: Verification missing user information","stack":"Error: Verification missing user information\n    at PartnerService.resendVerificationEmail (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:581:15)\n    at PartnerController.resendVerificationEmail (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\partner.controller.ts:462:7)","timestamp":"2025-12-05 11:02:52"}
{"level":"error","message":"Resend verification email error: Verification missing user information","stack":"Error: Verification missing user information\n    at PartnerService.resendVerificationEmail (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\partner.service.ts:581:15)\n    at PartnerController.resendVerificationEmail (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\partner.controller.ts:462:7)","timestamp":"2025-12-05 11:02:52"}
{"clientVersion":"5.7.1","level":"error","message":"Login error: \nInvalid `prisma.user.findUnique()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\auth.service.ts:70:36\n\n  67 }\n  68 \n  69 async login(username: string, password: string): Promise<string | null> {\n→ 70   const user = await prisma.user.findUnique({\n         where: {\n           username: \"newuser\",\n           ~~~~~~~~\n       ?   id?: String,\n       ?   email?: String,\n       ?   AND?: UserWhereInput | UserWhereInput[],\n       ?   OR?: UserWhereInput[],\n       ?   NOT?: UserWhereInput | UserWhereInput[],\n       ?   fullName?: StringNullableFilter | String | Null,\n       ?   phone?: StringNullableFilter | String | Null,\n       ?   createdAt?: DateTimeFilter | DateTime,\n       ?   updatedAt?: DateTimeFilter | DateTime,\n       ?   verifications?: VerificationListRelationFilter\n         }\n       })\n\nUnknown argument `username`. Available options are marked with ?.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findUnique()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\auth.service.ts:70:36\n\n  67 }\n  68 \n  69 async login(username: string, password: string): Promise<string | null> {\n→ 70   const user = await prisma.user.findUnique({\n         where: {\n           username: \"newuser\",\n           ~~~~~~~~\n       ?   id?: String,\n       ?   email?: String,\n       ?   AND?: UserWhereInput | UserWhereInput[],\n       ?   OR?: UserWhereInput[],\n       ?   NOT?: UserWhereInput | UserWhereInput[],\n       ?   fullName?: StringNullableFilter | String | Null,\n       ?   phone?: StringNullableFilter | String | Null,\n       ?   createdAt?: DateTimeFilter | DateTime,\n       ?   updatedAt?: DateTimeFilter | DateTime,\n       ?   verifications?: VerificationListRelationFilter\n         }\n       })\n\nUnknown argument `username`. Available options are marked with ?.\n    at ti (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at AuthService.login (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\auth.service.ts:70:18)\n    at AuthController.login (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\auth.controller.ts:104:21)","timestamp":"2025-12-05 13:50:52"}
{"clientVersion":"5.7.1","level":"error","message":"Login error: \nInvalid `prisma.user.findUnique()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\auth.service.ts:70:36\n\n  67 }\n  68 \n  69 async login(username: string, password: string): Promise<string | null> {\n→ 70   const user = await prisma.user.findUnique({\n         where: {\n           username: \"admin\",\n           ~~~~~~~~\n       ?   id?: String,\n       ?   email?: String,\n       ?   AND?: UserWhereInput | UserWhereInput[],\n       ?   OR?: UserWhereInput[],\n       ?   NOT?: UserWhereInput | UserWhereInput[],\n       ?   fullName?: StringNullableFilter | String | Null,\n       ?   phone?: StringNullableFilter | String | Null,\n       ?   createdAt?: DateTimeFilter | DateTime,\n       ?   updatedAt?: DateTimeFilter | DateTime,\n       ?   verifications?: VerificationListRelationFilter\n         }\n       })\n\nUnknown argument `username`. Available options are marked with ?.","name":"PrismaClientValidationError","stack":"PrismaClientValidationError: \nInvalid `prisma.user.findUnique()` invocation in\nc:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\auth.service.ts:70:36\n\n  67 }\n  68 \n  69 async login(username: string, password: string): Promise<string | null> {\n→ 70   const user = await prisma.user.findUnique({\n         where: {\n           username: \"admin\",\n           ~~~~~~~~\n       ?   id?: String,\n       ?   email?: String,\n       ?   AND?: UserWhereInput | UserWhereInput[],\n       ?   OR?: UserWhereInput[],\n       ?   NOT?: UserWhereInput | UserWhereInput[],\n       ?   fullName?: StringNullableFilter | String | Null,\n       ?   phone?: StringNullableFilter | String | Null,\n       ?   createdAt?: DateTimeFilter | DateTime,\n       ?   updatedAt?: DateTimeFilter | DateTime,\n       ?   verifications?: VerificationListRelationFilter\n         }\n       })\n\nUnknown argument `username`. Available options are marked with ?.\n    at ti (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:118:5888)\n    at si.handleRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6473)\n    at si.handleAndLogRequestError (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:6151)\n    at si.request (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:125:5859)\n    at async l (C:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\node_modules\\@prisma\\client\\runtime\\library.js:130:10025)\n    at AuthService.login (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\services\\auth.service.ts:70:18)\n    at AuthController.login (c:\\Ultrasoft\\ultrareach.dev\\id-verify-api\\src\\controllers\\auth.controller.ts:104:21)","timestamp":"2025-12-05 13:51:04"}
